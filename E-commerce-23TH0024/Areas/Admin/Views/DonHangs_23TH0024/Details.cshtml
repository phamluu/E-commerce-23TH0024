@using E_commerce_23TH0024.Lib
@using E_commerce_23TH0024.Models
@using E_commerce_23TH0024.Models.Ecommerce
@model DonHangViewModel

@{
    ViewBag.Title = "Đơn hàng";
}

<div>
    <h4 class="title">Đơn hàng</h4>
    <div class="row">
        <div class="col-md-4">
            <h4>Thông tin đơn hàng</h4>
            <hr />
            <table class="table">
                <tr>
                    <td>
                        <b>@Html.DisplayName("Mã đơn hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.Id)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Ngày đặt hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.NgayDatHang)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Ngày giao hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.NgayGiaoHang)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Nhân viên giao hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.NhanVienGiao.SoDienThoai)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Tình trạng")</b>
                    </td>

                    <td>
                        @EnumExtensions.GetOrderStatusName(Model.TinhTrang)
                    </td>
                </tr>
                @* <tr>
                    <td>
                        <b>@Html.DisplayName("Nhân viên")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.NhanVien.HoTen)
                    </td>
                </tr> *@
            </table>
            
            <h4>Thông tin khách hàng</h4>
            <hr />
            <table class="table">
                <tr>
                    <td>
                        <b>@Html.DisplayName("Tên khách hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.KhachHang.HoTen)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Sđt khách hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.KhachHang.SoDienThoai)
                    </td>
                </tr>
                <tr>
                    <td>
                        <b>@Html.DisplayName("Email khách hàng")</b>
                    </td>

                    <td>
                        @Html.DisplayFor(model => model.KhachHang.AspNetUser.Email)
                    </td>
                </tr>
            </table>

        </div>
        <div class="col-md-8">
            <div class="box">
                <h4>Danh sách sản phẩm</h4>
                <hr />
                
                    <table class="table">
                        <tr>
                            <th>Tên sản phẩm</th>
                            <th>Đơn giá</th>
                            <th>Số lượng</th>
                        </tr
                        @if(Model.ChiTietDonHangs != null){
                            foreach (var item in Model.ChiTietDonHangs)
                            {
                                <tr>
                                    <td>@item.SanPham.TenSP</td>
                                    <td>@Helper.money(item.SanPham.DonGia)</td>
                                    <td>@item.SoLuong</td>
                                </tr>
                            }
                        }

                    </table>
                    <table class="table">
                        <tr>
                            <td><b>Tổng tiền: </b></td>
                            <td>@Helper.money(Model.TotalProductAmount)</td>
                        </tr>
                        <tr>
                            <td><b>VAT: </b></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><b>Phí giao hàng: </b></td>
                            <td>@Helper.money(Model.ShippingFee)</td>
                        </tr>
                        <tr>
                            <td><b>Tổng cộng: </b></td>
                            <td style="color:red; font-size:20px;">@Helper.money(Model.TotalAmount)</td>
                        </tr>
                    </table>

                
                
            </div>
        </div>
    </div>
    
</div>

